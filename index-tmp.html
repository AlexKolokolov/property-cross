<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Property Cross</title>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/extjs/3.4.1-1/resources/css/ext-all.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/extjs/3.4.1-1/adapter/ext/ext-base.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/extjs/3.4.1-1/ext-all-debug.js"></script>
    <script>
        var searchUrl = 'https://api.nestoria.co.uk/api?country=uk&pretty=1&action=search_listings&encoding=json&listing_type=buy&page=1&place_name=london';
        Ext.onReady(function() {
            var resultStore = new Ext.data.JsonStore({
                root: 'listings',
                fields: ['title','price_formatted'],
                autoLoad: true,
                proxy: new Ext.data.HttpProxy({
                    url: searchUrl
                })
            });
            console.log(resultStore);
            var grid = new Ext.grid.GridPanel({
                title: 'Search Result',
                store: resultStore,
                columns: [
                    {header: "Title", width: 100, dataIndex: 'title', sortable: true},
                    {header: "Price", width: 100, dataIndex: 'price_formatted', sortable: true}
                ],
                renderTo: Ext.getBody()
            });
        });
    </script>
</head>
<body>
</body>
</html>